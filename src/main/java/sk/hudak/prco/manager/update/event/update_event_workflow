UpdateProductsInEshop   => ProductDetailInfoForUpdateEvent
                        =# LoadProductToBeUpdateErrorEvent

ProductDetailInfoForUpdateEvent => UpdateProductDocumentEvent
                                =# RetrieveUpdateDocumentForUrlErrorEvent

UpdateProductDocumentEvent => ProductUpdateDataEvent
                           =# ParseProductUpdateDataErrorEvent

ProductUpdateDataEvent  =?> ProductUpdateDataRedirectEvent     if (redirect)
                        =?> MarkProductAsUnavailableFinalEvent else if (product is NOT available)
                        =?> ProcessProductUpdateDataFinalEvent else (otherwise)

ProductUpdateDataRedirectEvent =?> ProductUpdateDataRedirectNotYetExistEvent  if (product with new URL not exist)
                               =?> ProductUpdateDataRedirectAlreadyExistEvent else (otherwise)
                               =# FindRedirectProductByUrlErrorEvent

ProductUpdateDataRedirectNotYetExistEvent =?> ProcessProductUpdateUrlFinalEvent  if (product is NOT available)
                                          =?> MarkProductAsUnavailableFinalEvent if (product is NOT available)
                                          =?> ProcessProductUpdateDataFinalEvent if (product is available)

ProductUpdateDataRedirectAlreadyExistEvent  => ProcessRemoveOldProductFinalEvent
                                           =?> MarkProductAsUnavailableFinalEvent             if (product is NOT available)
                                           =?> ProcessProductUpdateDataForRedirectFinalEvent else (otherwise)

MarkProductAsUnavailableFinalEvent =O END (save unavailability product in DB)
                                   =# MarkProductAsUnavailableErrorEvent

ProcessProductUpdateUrlFinalEvent =O END (save new URL to DB)
                                  =# UpdateProductWithNewUrlErrorEvent

ProcessProductUpdateDataFinalEvent =O END (save update to DB)
                                   =# ProcessProductUpdateDataErrorEvent

ProcessRemoveOldProductFinalEvent =O END (remove product from DB)
                                  =# RemoveProductWithOldUrlErrorEvent

ProcessProductUpdateDataForRedirectFinalEvent =O END
                                              =# ProcessProductUpdateDataForRedirectErrorEvent
