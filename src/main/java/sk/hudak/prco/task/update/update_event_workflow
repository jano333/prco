UpdateProductsInEshop   => ProductDetailInfoForUpdateEvent
                        =# LoadProductToBeUpdateErrorEvent

ProductDetailInfoForUpdateEvent => UpdateProductDocumentEvent
                                =# RetrieveUpdateDocumentForUrlErrorEvent

UpdateProductDocumentEvent => ProductUpdateDataEvent
                           =# ParseProductUpdateDataErrorEvent

ProductUpdateDataEvent  =?> ProductUpdateDataRedirectEvent if (redirect)
                        =?> MarkProductAsUnavailableEvent  else if (product is NOT available)
                        =?> ProcessProductUpdateDataEvent  else (otherwise)


ProductUpdateDataRedirectEvent =?> ProductUpdateDataRedirectNotYetExistEvent  if (product with new URL not exist)
                               =?> ProductUpdateDataRedirectAlreadyExistEvent else (otherwise)
                               =# FindRedirectProductByUrlErrorEvent

ProductUpdateDataRedirectNotYetExistEvent =?> ProcessProductUpdateDataEvent if (product is NOT available)
                                          =?> MarkProductAsUnavailableEvent if (product is NOT available)
                                          =?> ProcessProductUpdateUrlEvent  else (otherwise)

ProductUpdateDataRedirectAlreadyExistEvent  => ProcessRemoveOldProductEvent
                                           =?> MarkProductAsUnavailableEvent            if (product is NOT available)
                                           =?> ProcessProductUpdateDataForRedirectEvent else (otherwise)

MarkProductAsUnavailableEvent => END

ProcessProductUpdateUrlEvent => END (save new URL to DB)
                             =# UpdateProductWithNewUrlErrorEvent

ProcessProductUpdateDataEvent => END (save update to DB)


